---
layout: page
title: Direita Generator
name: direita-generator
---

<style>
	#btn-generate, #sentence {
		font-size: 1.5em;
	}
</style>

<p>
	<button id="btn-generate" class="pure-button pure-button-primary button-xlarge">Gerar</button>
</p>
<blockquote id="sentence"></blockquote>

<script>
	var Ѧ = [
		[
			"A miséria",
			"A inflação",
			"O Golpe de 1964",
			"A violência",
			"A crise",
			"O crime",
			"O nazismo",
			"O Bolsa Família",
			"O problema da educação",
			"A corrupção"
		], [
			"é uma invenção",
			"é uma estratégia",
			"é uma manobra",
			"é um complô",
			"é culpa",
			"é uma criação",
			"é uma conspiração",
			"é uma forma orquestrada",
			"é a doutrinação ideológica",
			"é a uma articulação"
		], [
			"do PT",
			"do comunismo",
			"dos esquerdopatas",
			"da Dilma",
			"do socialismo",
			"do Estado",
			"da ditadura gay",
			"da esquerda caviar",
			"dos vândalos",
			"das feminazis"
		], [
			"para deslegitimar",
			"para vandalizar",
			"para desmoralizar",
			"para destruir",
			"para regular",
			"para ameaçar",
			"para superar",
			"para roubar",
			"para aterrorizar",
			"para transgredir"
		], [
			"a economia",
			"o livre mercado",
			"a classe média",
			"a propriedade privada",
			"a nação",
			"o progresso",
			"a família",
			"a democracia",
			"a liberdade",
			"os bons costumes"
		]
	];

	var choose = function(n) {
		return Math.floor(Math.random()*n);
	};

	if (!Array.prototype.map) {
		Array.prototype.map = function (fn) {
			var arr = [];
			for(var i = 0, l = this.length; i < l; i++){
				arr[i] = fn(this[i], i);
			}
			return arr;
		};
	}

	var sentenceFromIndexes = function(indexes) {
		return indexes.map(function(idx, i){
			return Ѧ[i][idx];
		}).join(' ');
	};

	var generateIndexes = function() {
		return Array.apply(null, new Array(Ѧ.length)).map(choose.bind(null, Ѧ.length), true);
	};

	document.getElementById('btn-generate').onclick = function(){
		var indexes = generateIndexes();
		var sentence = sentenceFromIndexes(indexes);
		document.getElementById('sentence').innerHTML = sentence;
		window.location.hash = indexes;
		_gaq.push(['_trackEvent', 'demo/direita-generator', 'generate']);
	};

	var recover = function(){
		var indexes = window.location.hash.substring(1).split(',');
		if(indexes.length === Ѧ.length) {
			var sentence = sentenceFromIndexes(indexes);
			document.getElementById('sentence').innerHTML = sentence;
		}
	};
	recover();
</script>